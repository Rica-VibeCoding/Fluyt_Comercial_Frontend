<!DOCTYPE html>
<html>
<head>
    <title>Teste Direto API Clientes</title>
</head>
<body>
    <h1>Teste de ConexÃ£o com Backend</h1>
    <button onclick="testarAPI()">Testar API de Clientes</button>
    <pre id="resultado"></pre>

    <script>
    async function testarAPI() {
        const resultado = document.getElementById('resultado');
        resultado.textContent = 'Testando...';
        
        try {
            // URL exata que o frontend estÃ¡ usando
            const url = 'http://localhost:8000/api/v1/test/clientes?loja_id=317c3115-e071-40a6-9bc5-7c3227e0d82c';
            
            console.log('ğŸŒ Fazendo requisiÃ§Ã£o para:', url);
            
            const response = await fetch(url, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                },
            });
            
            console.log('ğŸ“¡ Status:', response.status);
            
            const data = await response.json();
            console.log('ğŸ“‹ Resposta completa:', data);
            
            resultado.textContent = JSON.stringify(data, null, 2);
            
            // Analisar resposta
            if (data.success && data.data && data.data.clientes) {
                console.log('âœ… Clientes encontrados:', data.data.clientes.length);
                console.log('ğŸ“Š Primeiro cliente:', data.data.clientes[0]);
                
                // Verificar se Ã© mock
                if (data.message && data.message.includes('mock')) {
                    console.warn('âš ï¸ USANDO DADOS MOCK!');
                } else {
                    console.log('âœ… Parece estar usando dados REAIS');
                }
            }
            
        } catch (error) {
            console.error('âŒ Erro:', error);
            resultado.textContent = 'Erro: ' + error.message;
        }
    }
    
    // Testar automaticamente ao carregar
    window.onload = () => testarAPI();
    </script>
</body>
</html>